
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>منصة عين التعليمية - الطالب</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <style>
        :root {
            --primary: #2c5aa0;
            --primary-light: #4a7bc1;
            --primary-dark: #1d3d6f;
            --secondary: #00a896;
            --secondary-light: #02c39a;
            --accent: #ff6b6b;
            --light: #f8f9fa;
            --dark: #343a40;
            --gray: #6c757d;
            --gray-light: #e9ecef;
            --border-radius: 12px;
            --box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f5f7fb 0%, #e9f2ff 100%);
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
        }

        .header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 35px 20px;
            text-align: center;
            box-shadow: var(--box-shadow);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: "";
            position: absolute;
            top: -50%;
            right: -20%;
            width: 150%;
            height: 150%;
            background: rgba(255, 255, 255, 0.05);
            transform: rotate(30deg);
        }

        .header .logo {
            font-size: 32px;
            font-weight: 800;
            margin-bottom: 15px;
            position: relative;
            z-index: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .header .logo i {
            color: var(--secondary-light);
            font-size: 36px;
        }

        .header .tagline {
            font-size: 18px;
            opacity: 0.95;
            max-width: 700px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
            line-height: 1.8;
        }

        .container {
            max-width: 800px;
            margin: 30px auto;
            padding: 0 20px;
        }

        .form-card {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 35px;
            margin-bottom: 30px;
            transition: var(--transition);
            border: 1px solid rgba(44, 90, 160, 0.1);
        }

        .form-card:hover {
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.12);
            transform: translateY(-5px);
        }

        .form-card h2 {
            color: var(--primary);
            margin-bottom: 10px;
            font-size: 26px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .form-card h2 i {
            color: var(--secondary);
        }

        .form-card .form-subtitle {
            color: var(--gray);
            margin-bottom: 30px;
            font-size: 16px;
            line-height: 1.6;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--dark);
            font-size: 15px;
        }

        .form-group .input-with-icon {
            position: relative;
        }

        .form-group .input-with-icon i {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 16px 50px 16px 16px;
            border: 2px solid var(--gray-light);
            border-radius: var(--border-radius);
            font-size: 16px;
            transition: var(--transition);
            background-color: #fdfdfd;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary-light);
            background-color: white;
            box-shadow: 0 0 0 3px rgba(44, 90, 160, 0.1);
        }

        .form-group input.error,
        .form-group textarea.error {
            border-color: var(--accent);
        }

        .form-group .error-message {
            color: var(--accent);
            font-size: 14px;
            margin-top: 8px;
            display: none;
        }

        .form-group .char-count {
            font-size: 14px;
            color: var(--gray);
            text-align: left;
            margin-top: 8px;
        }

        .form-group .char-count.warning {
            color: #e74c3c;
            font-weight: 600;
        }

        .form-group select {
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%236c757d' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: left 15px center;
            padding-left: 40px;
        }

        .submit-btn {
            background: linear-gradient(135deg, var(--secondary) 0%, var(--secondary-light) 100%);
            color: white;
            border: none;
            padding: 18px 30px;
            border-radius: var(--border-radius);
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-top: 15px;
        }

        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 168, 150, 0.25);
        }

        .submit-btn:active {
            transform: translateY(0);
        }

        .submit-btn:disabled {
            background: var(--gray-light);
            color: var(--gray);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .privacy-notice {
            background: linear-gradient(135deg, rgba(44, 90, 160, 0.05) 0%, rgba(44, 90, 160, 0.02) 100%);
            border-radius: var(--border-radius);
            padding: 25px;
            margin-top: 35px;
            border-right: 4px solid var(--primary);
        }

        .privacy-notice h4 {
            color: var(--primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 18px;
        }

        .privacy-notice p {
            color: var(--gray);
            font-size: 15px;
            line-height: 1.8;
        }

        .login-container {
            display: none;
        }

        .login-container.active {
            display: block;
        }

        .login-card {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 40px;
            max-width: 500px;
            margin: 50px auto;
            border: 1px solid rgba(44, 90, 160, 0.1);
        }

        .login-card h2 {
            color: var(--primary);
            margin-bottom: 25px;
            text-align: center;
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }

        .student-dashboard {
            display: none;
        }

        .student-dashboard.active {
            display: block;
        }

        .user-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--gray-light);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .user-avatar {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: 700;
            box-shadow: 0 4px 10px rgba(44, 90, 160, 0.2);
        }

        .user-details h3 {
            color: var(--primary);
            margin-bottom: 5px;
            font-size: 20px;
        }

        .user-details p {
            color: var(--gray);
            font-size: 14px;
        }

        .logout-btn {
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.1) 0%, rgba(255, 107, 107, 0.05) 100%);
            color: var(--accent);
            border: 2px solid var(--accent);
            padding: 12px 25px;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: var(--transition);
        }

        .logout-btn:hover {
            background: var(--accent);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.2);
        }

        .account-btn {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: var(--transition);
            box-shadow: 0 4px 10px rgba(44, 90, 160, 0.2);
        }

        .account-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(44, 90, 160, 0.3);
        }

        .my-questions {
            margin-top: 50px;
        }

        .my-questions h3 {
            color: var(--primary);
            margin-bottom: 25px;
            font-size: 24px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .questions-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
            border-bottom: 2px solid var(--gray-light);
            padding-bottom: 10px;
        }

        .questions-tab {
            padding: 12px 25px;
            background: none;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 600;
            color: var(--gray);
            transition: var(--transition);
        }

        .questions-tab.active {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            box-shadow: 0 4px 10px rgba(44, 90, 160, 0.2);
        }

        .question-list {
            max-height: 500px;
            overflow-y: auto;
            padding-right: 10px;
        }

        .question-item {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: var(--box-shadow);
            border-right: 4px solid var(--secondary);
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid rgba(44, 90, 160, 0.1);
        }

        .question-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.12);
        }

        .question-item.pending {
            border-right-color: #ff9f43;
        }

        .question-item.answered {
            border-right-color: var(--secondary);
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .question-title {
            font-weight: 700;
            color: var(--dark);
            font-size: 18px;
            line-height: 1.4;
        }

        .question-status {
            padding: 8px 20px;
            border-radius: 30px;
            font-size: 13px;
            font-weight: 700;
        }

        .status-pending {
            background: linear-gradient(135deg, rgba(255, 159, 67, 0.1) 0%, rgba(255, 159, 67, 0.05) 100%);
            color: #ff9f43;
        }

        .status-answered {
            background: linear-gradient(135deg, rgba(0, 168, 150, 0.1) 0%, rgba(0, 168, 150, 0.05) 100%);
            color: var(--secondary);
        }

        .question-date {
            color: var(--gray);
            font-size: 14px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .question-content {
            color: var(--gray);
            font-size: 15px;
            line-height: 1.7;
            margin-bottom: 15px;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
        }

        .answer-content {
            margin-top: 20px;
            padding: 20px;
            background: linear-gradient(135deg, rgba(0, 168, 150, 0.05) 0%, rgba(0, 168, 150, 0.02) 100%);
            border-radius: var(--border-radius);
            border-right: 3px solid var(--secondary);
        }

        .answer-label {
            color: var(--secondary);
            font-weight: 700;
            margin-bottom: 10px;
            display: block;
            font-size: 15px;
        }

        .answer-text {
            color: var(--dark);
            line-height: 1.8;
            font-size: 15px;
        }

        .question-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .question-modal.show {
            display: flex;
        }

        .modal-content {
            background-color: white;
            border-radius: var(--border-radius);
            width: 100%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
        }

        .modal-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 30px;
            border-top-right-radius: var(--border-radius);
            border-top-left-radius: var(--border-radius);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h3 {
            font-size: 24px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .close-modal {
            background: none;
            border: none;
            color: white;
            font-size: 28px;
            cursor: pointer;
            transition: var(--transition);
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .close-modal:hover {
            background-color: rgba(255, 255, 255, 0.15);
        }

        .modal-body {
            padding: 35px;
        }

        .modal-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 35px;
        }

        @media (max-width: 768px) {
            .modal-details {
                grid-template-columns: 1fr;
            }
        }

        .modal-detail label {
            display: block;
            color: var(--gray);
            font-size: 14px;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .modal-detail .value {
            font-weight: 600;
            color: var(--dark);
            font-size: 16px;
            padding: 12px 15px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: var(--border-radius);
            border: 1px solid var(--gray-light);
        }

        .modal-question {
            margin-bottom: 35px;
        }

        .modal-question label {
            display: block;
            color: var(--gray);
            font-size: 14px;
            margin-bottom: 12px;
            font-weight: 600;
        }

        .modal-question .value {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 25px;
            border-radius: var(--border-radius);
            line-height: 1.8;
            white-space: pre-wrap;
            border: 1px solid var(--gray-light);
            font-size: 15px;
        }

        .account-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .account-modal.show {
            display: flex;
        }

        .account-modal-content {
            background-color: white;
            border-radius: var(--border-radius);
            width: 100%;
            max-width: 500px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
        }

        .account-modal-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 30px;
            border-top-right-radius: var(--border-radius);
            border-top-left-radius: var(--border-radius);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .account-modal-header h3 {
            font-size: 24px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .success-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .success-modal.show {
            display: flex;
        }

        .success-modal-content {
            background: white;
            border-radius: var(--border-radius);
            padding: 50px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
        }

        .success-icon {
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, var(--secondary) 0%, var(--secondary-light) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 30px;
            box-shadow: 0 10px 25px rgba(0, 168, 150, 0.3);
        }

        .success-icon i {
            color: white;
            font-size: 48px;
        }

        .success-modal h3 {
            color: var(--primary);
            margin-bottom: 20px;
            font-size: 28px;
        }

        .success-modal p {
            color: var(--gray);
            margin-bottom: 30px;
            line-height: 1.8;
            font-size: 16px;
        }

        .success-btn {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            border: none;
            padding: 16px 40px;
            border-radius: 30px;
            font-weight: 700;
            cursor: pointer;
            font-size: 16px;
            transition: var(--transition);
            box-shadow: 0 6px 15px rgba(44, 90, 160, 0.2);
        }

        .success-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(44, 90, 160, 0.3);
        }

        .footer {
            background: linear-gradient(135deg, var(--primary-dark) 0%, #172a46 100%);
            color: white;
            text-align: center;
            padding: 40px 20px;
            margin-top: 70px;
            border-top: 5px solid var(--secondary);
        }

        .footer .logo {
            font-size: 28px;
            font-weight: 800;
            color: white;
            margin-bottom: 20px;
            display: block;
        }

        .footer p {
            margin-bottom: 15px;
            line-height: 1.8;
            opacity: 0.9;
        }

        .signature {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .sponsor-signature {
            font-size: 15px;
            color: rgba(255, 255, 255, 0.9);
        }

        .sponsor-signature strong {
            color: var(--secondary-light);
        }

        .designer-signature {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.7);
        }

        .notification {
            position: fixed;
            top: 20px;
            left: 20px;
            right: 20px;
            padding: 20px 25px;
            border-radius: var(--border-radius);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            z-index: 9999;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.4s ease;
            transform: translateY(-100px);
            opacity: 0;
            border-left: 5px solid transparent;
        }

        .notification.show {
            transform: translateY(0);
            opacity: 1;
        }

        .notification.error {
            background-color: #f8d7da;
            color: #721c24;
            border-left-color: #dc3545;
        }

        .notification.success {
            background-color: #d4edda;
            color: #155724;
            border-left-color: #28a745;
        }

        .notification.info {
            background-color: #d1ecf1;
            color: #0c5460;
            border-left-color: #17a2b8;
        }

        .notification .close-notification {
            background: none;
            border: none;
            font-size: 22px;
            cursor: pointer;
            color: inherit;
            padding: 0;
            margin-right: 10px;
            opacity: 0.7;
            transition: var(--transition);
        }

        .notification .close-notification:hover {
            opacity: 1;
        }

        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(245, 247, 251, 0.95) 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            display: none;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 5px solid var(--gray-light);
            border-top: 5px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 25px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loading-text {
            color: var(--primary);
            font-size: 20px;
            font-weight: 700;
        }

        @media (max-width: 768px) {
            .container {
                padding: 0 15px;
            }
            
            .form-card {
                padding: 25px 20px;
            }
            
            .header {
                padding: 25px 15px;
            }
            
            .header .logo {
                font-size: 26px;
            }
            
            .header .tagline {
                font-size: 16px;
            }
            
            .user-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 20px;
            }
            
            .user-header .actions {
                width: 100%;
                display: flex;
                justify-content: space-between;
            }
            
            .signature {
                flex-direction: column;
                text-align: center;
                gap: 15px;
            }
            
            .modal-body {
                padding: 25px 20px;
            }
        }

        @media (max-width: 480px) {
            .header .logo {
                font-size: 22px;
            }
            
            .form-card h2 {
                font-size: 22px;
            }
            
            .submit-btn {
                padding: 16px 20px;
                font-size: 16px;
            }
            
            .user-header .actions {
                flex-direction: column;
                gap: 10px;
            }
            
            .account-btn, .logout-btn {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <div class="loading-text">جاري التحميل...</div>
    </div>

    <header class="header">
        <div class="logo">
            <i class="fas fa-graduation-cap"></i>
            منصة عين التعليمية
        </div>
        <p class="tagline">منصة تعليمية متكاملة للإجابة على استفسارات الطلاب بكل خصوصية وسرية تامة، نضمن لك الحصول على إجابات دقيقة من خبراء متخصصين</p>
    </header>

    <!-- شاشة الدخول باسم الطالب فقط -->
    <div class="login-container active" id="loginContainer">
        <div class="container">
            <div class="login-card">
                <h2><i class="fas fa-sign-in-alt"></i>أدخل اسمك للبدء</h2>
                <form id="loginForm">
                    <div class="form-group">
                        <label for="studentName">اسم الطالب</label>
                        <div class="input-with-icon">
                            <i class="fas fa-user"></i>
                            <input type="text" id="studentName" placeholder="أدخل اسمك" required>
                        </div>
                        <div class="error-message" id="nameError">الرجاء إدخال اسمك</div>
                        <p style="color: var(--gray); font-size: 14px; margin-top: 8px; line-height: 1.5;">سيتم حفظ اسمك لتسهيل عملية التواصل معك</p>
                    </div>
                    
                    <button type="submit" class="submit-btn" id="loginSubmitBtn">
                        <i class="fas fa-sign-in-alt"></i>
                        الدخول
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- لوحة الطالب -->
    <div class="student-dashboard" id="studentDashboard">
        <div class="container">
            <div class="user-header">
                <div class="user-info">
                    <div class="user-avatar" id="userAvatar">ط</div>
                    <div class="user-details">
                        <h3 id="userName">مرحباً، الطالب</h3>
                        <p>منصة عين التعليمية</p>
                    </div>
                </div>
                <div class="actions">
                    <button class="logout-btn" id="logoutBtn">
                        <i class="fas fa-sign-out-alt"></i>
                        تسجيل خروج
                    </button>
                </div>
            </div>

            <div class="form-card">
                <h2><i class="fas fa-question-circle"></i>اطرح سؤالك</h2>
                <p class="form-subtitle">اكتب سؤالك بالتفصيل وسيقوم المشرفون بالرد عليك عبر واتساب في أقرب وقت ممكن</p>
                
                <form id="questionForm">
                    <div class="form-group">
                        <label for="questionTitle">عنوان السؤال (اختياري)</label>
                        <div class="input-with-icon">
                            <i class="fas fa-heading"></i>
                            <input type="text" id="questionTitle" placeholder="أدخل عنواناً مختصراً يوضح سؤالك">
                        </div>
                        <div class="char-count" id="titleCharCount">0/100</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="questionContent">نص السؤال</label>
                        <div class="input-with-icon">
                            <i class="fas fa-edit"></i>
                            <textarea id="questionContent" rows="6" placeholder="اكتب سؤالك بالتفصيل هنا... اذكر كل المعلومات المطلوبة للحصول على إجابة دقيقة" required></textarea>
                        </div>
                        <div class="char-count" id="contentCharCount">0/1500</div>
                        <div class="error-message" id="contentError">الرجاء إدخال نص السؤال</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="questionWhatsapp">رقم الواتساب (8 أرقام فقط)</label>
                        <div class="input-with-icon">
                            <i class="fab fa-whatsapp"></i>
                            <input type="tel" id="questionWhatsapp" placeholder="مثال: 12345678" maxlength="8" pattern="\d{8}">
                        </div>
                        <div class="error-message" id="whatsappError">يجب أن يكون رقم واتساب صحيح (8 أرقام فقط)</div>
                        <p style="color: var(--gray); font-size: 13px; margin-top: 8px; line-height: 1.5;">سيتم استخدام هذا الرقم للتواصل معك عبر واتساب للرد على سؤالك</p>
                    </div>
                    
                    <button type="submit" class="submit-btn" id="submitBtn">
                        <i class="fas fa-paper-plane"></i>
                        إرسال السؤال
                    </button>
                </form>
                
                <div class="privacy-notice">
                    <h4><i class="fas fa-shield-alt"></i>خصوصيتك محمية</h4>
                    <p>جميع استفساراتك تبقى سرية ولا يمكن لأي طالب آخر رؤيتها. سيتم الرد على سؤالك عبر واتساب مباشرةً، ولن نشارك معلوماتك مع أي طرف ثالث. نلتزم بتقديم إجابات دقيقة من قبل مشرفين متخصصين.</p>
                </div>
            </div>

            <div class="my-questions">
                <h3><i class="fas fa-history"></i>أسئلتي السابقة</h3>
                
                <div class="questions-tabs">
                    <button class="questions-tab active" data-filter="all">الكل</button>
                    <button class="questions-tab" data-filter="pending">بانتظار الرد</button>
                    <button class="questions-tab" data-filter="answered">تم الرد</button>
                </div>
                
                <div class="question-list" id="questionList">
                </div>
            </div>
        </div>
    </div>

    <!-- نافذة عرض السؤال -->
    <div class="question-modal" id="questionModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-question-circle"></i>عرض السؤال</h3>
                <button class="close-modal" id="closeModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-details">
                    <div class="modal-detail">
                        <label>اسم الطالب</label>
                        <div class="value" id="modalName">-</div>
                    </div>
                    <div class="modal-detail">
                        <label>تاريخ الإرسال</label>
                        <div class="value" id="modalDate">-</div>
                    </div>
                    <div class="modal-detail">
                        <label>رقم الواتساب</label>
                        <div class="value" id="modalWhatsapp">-</div>
                    </div>
                    <div class="modal-detail">
                        <label>حالة السؤال</label>
                        <div class="value">
                            <span class="question-status" id="modalStatus">-</span>
                        </div>
                    </div>
                </div>

                <div class="modal-question">
                    <label>عنوان السؤال</label>
                    <div class="value" id="modalTitle">-</div>
                </div>

                <div class="modal-question">
                    <label>نص السؤال</label>
                    <div class="value" id="modalQuestion">-</div>
                </div>

                <div class="answer-content" id="answerSection" style="display: none;">
                    <div class="answer-label">الإجابة من المشرف:</div>
                    <div class="answer-text" id="modalAnswer">-</div>
                    <div style="margin-top: 20px; color: var(--gray); font-size: 14px;">
                        <i class="fas fa-clock"></i> تاريخ الرد: <span id="modalAnswerDate">-</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- نافذة النجاح -->
    <div class="success-modal" id="successModal">
        <div class="success-modal-content">
            <div class="success-icon">
                <i class="fas fa-check"></i>
            </div>
            <h3>تم استلام سؤالك بنجاح!</h3>
            <p>سوف يتم الرد عليك عبر واتساب في أقرب وقت ممكن. يمكنك تتبع حالة سؤالك من قائمة "أسئلتي السابقة". ستتلقى إشعاراً عند وصول الرد.</p>
            <button class="success-btn" id="closeSuccessModal">متابعة</button>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="logo">منصة عين التعليمية</div>
            <p>منصة تعليمية متكاملة تهدف إلى دعم الطلاب في رحلتهم التعليمية وتقديم إجابات دقيقة لاستفساراتهم</p>
            <p>جميع الحقوق محفوظة © <span id="currentYear">2024</span></p>
            
            <div class="signature">
                <div class="sponsor-signature">
                    الراعي الرسمي: <strong>med khay</strong>
                </div>
                <div class="designer-signature">
                    تصميم وتطوير: Hassen Ahmed jdoud
                </div>
            </div>
        </div>
    </footer>

    <script>
        // بيانات مشروعك
        const firebaseConfig = {
            apiKey: "AIzaSyDbM7Ctn_EKQBauI3aMbV3lcrkni_qFtnU",
            authDomain: "eyn-4a521.firebaseapp.com",
            projectId: "eyn-4a521",
            storageBucket: "eyn-4a521.firebasestorage.app",
            messagingSenderId: "842348200480",
            appId: "1:842348200480:web:9c75834517331da4e2f245",
            measurementId: "G-SS74B2WPX2"
        };

        // تهيئة فيربيس
        if (!firebase.apps.length) {
            firebase.initializeApp(firebaseConfig);
        }
        const db = firebase.firestore();

        class StudentSystem {
            constructor() {
                this.db = db;
                this.currentStudent = null;
                this.studentId = null;
                this.unsubscribeQuestions = null;
            }
            
            validatePhone(phone) {
                if (!phone) return true;
                const phoneRegex = /^\d{8}$/;
                return phoneRegex.test(phone);
            }
            
            async loginStudent(name) {
                try {
                    if (!name.trim()) {
                        return { success: false, message: 'الرجاء إدخال اسم الطالب' };
                    }
                    
                    // استخدام localStorage لتخزين اسم الطالب
                    const studentId = 'student_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
                    
                    this.currentStudent = {
                        id: studentId,
                        name: name.trim()
                    };
                    
                    this.studentId = studentId;
                    
                    // حفظ في localStorage
                    localStorage.setItem('studentData', JSON.stringify(this.currentStudent));
                    
                    return { success: true, student: this.currentStudent };
                } catch (error) {
                    console.error('خطأ في تسجيل الدخول:', error);
                    return { 
                        success: false, 
                        message: 'حدث خطأ أثناء تسجيل الدخول' 
                    };
                }
            }
            
            async submitQuestion(title, content, whatsapp = '') {
                try {
                    if (!this.currentStudent) {
                        return { success: false, message: 'الرجاء تسجيل الدخول أولاً' };
                    }
                    
                    if (!content.trim()) {
                        return { success: false, message: 'الرجاء كتابة نص السؤال' };
                    }
                    
                    if (whatsapp && !this.validatePhone(whatsapp)) {
                        return { 
                            success: false, 
                            message: 'رقم الواتساب يجب أن يكون 8 أرقام فقط' 
                        };
                    }
                    
                    const questionData = {
                        studentId: this.currentStudent.id,
                        studentName: this.currentStudent.name,
                        phone: whatsapp || '',
                        title: title || '',
                        question: content,
                        answer: '',
                        status: 'pending',
                        createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                        answeredAt: null
                    };
                    
                    const questionRef = await this.db.collection('questions').add(questionData);
                    
                    // إضافة إشعار للمشرف
                    await this.db.collection('notifications').add({
                        studentId: this.currentStudent.id,
                        title: 'سؤال جديد',
                        message: `سؤال جديد من ${this.currentStudent.name}`,
                        read: false,
                        timestamp: firebase.firestore.FieldValue.serverTimestamp(),
                        type: 'admin'
                    });
                    
                    // إضافة إشعار للطالب
                    await this.db.collection('notifications').add({
                        studentId: this.currentStudent.id,
                        title: 'تم استلام سؤالك',
                        message: `تم استلام سؤالك وسيتم الرد عليك قريباً`,
                        read: false,
                        timestamp: firebase.firestore.FieldValue.serverTimestamp(),
                        type: 'student'
                    });
                    
                    return { 
                        success: true, 
                        questionId: questionRef.id, 
                        question: questionData 
                    };
                } catch (error) {
                    console.error('خطأ في إرسال السؤال:', error);
                    return { 
                        success: false, 
                        message: `حدث خطأ: ${error.message}` 
                    };
                }
            }
            
            async getStudentQuestions() {
                try {
                    if (!this.currentStudent) {
                        return [];
                    }
                    
                    const snapshot = await this.db.collection('questions')
                        .where('studentId', '==', this.currentStudent.id)
                        .get();
                    
                    const questions = snapshot.docs.map(doc => ({
                        id: doc.id,
                        ...doc.data()
                    }));
                    
                    // ترتيب حسب التاريخ (الأحدث أولاً)
                    questions.sort((a, b) => {
                        const dateA = a.createdAt?.toDate ? a.createdAt.toDate() : new Date(a.createdAt || 0);
                        const dateB = b.createdAt?.toDate ? b.createdAt.toDate() : new Date(b.createdAt || 0);
                        return dateB - dateA;
                    });
                    
                    return questions;
                } catch (error) {
                    console.error('خطأ في جلب أسئلة الطالب:', error);
                    return [];
                }
            }
            
            async getQuestionById(questionId) {
                try {
                    const doc = await this.db.collection('questions').doc(questionId).get();
                    if (doc.exists) {
                        const question = { id: doc.id, ...doc.data() };
                        
                        if (question.studentId !== this.currentStudent?.id) {
                            throw new Error('ليس لديك صلاحية لعرض هذا السؤال');
                        }
                        
                        return question;
                    }
                    return null;
                } catch (error) {
                    console.error('خطأ في جلب السؤال:', error);
                    throw error;
                }
            }
            
            setupQuestionsListener(callback) {
                if (!this.currentStudent) return null;
                
                if (this.unsubscribeQuestions) {
                    this.unsubscribeQuestions();
                }
                
                this.unsubscribeQuestions = this.db.collection('questions')
                    .where('studentId', '==', this.currentStudent.id)
                    .onSnapshot(snapshot => {
                        const questions = snapshot.docs.map(doc => ({
                            id: doc.id,
                            ...doc.data()
                        }));
                        
                        // الترتيب يدوياً على جانب العميل
                        questions.sort((a, b) => {
                            const dateA = a.createdAt?.toDate ? a.createdAt.toDate() : new Date(a.createdAt || 0);
                            const dateB = b.createdAt?.toDate ? b.createdAt.toDate() : new Date(b.createdAt || 0);
                            return dateB - dateA;
                        });
                        
                        callback(questions);
                    }, error => {
                        console.error('خطأ في مستمع الأسئلة:', error);
                    });
                    
                return this.unsubscribeQuestions;
            }
        }

        const studentSystem = new StudentSystem();

        // ==================== دوال المساعدة ====================
        function showLoading() {
            document.getElementById('loadingOverlay').style.display = 'flex';
        }
        
        function hideLoading() {
            document.getElementById('loadingOverlay').style.display = 'none';
        }
        
        function showNotification(title, message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            
            notification.innerHTML = `
                <div>
                    <strong style="display: block; margin-bottom: 5px;">${title}</strong>
                    <div>${message}</div>
                </div>
                <button class="close-notification">&times;</button>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.add('show');
            }, 10);
            
            const autoRemove = setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 5000);
            
            notification.querySelector('.close-notification').addEventListener('click', () => {
                clearTimeout(autoRemove);
                notification.classList.remove('show');
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            });
            
            notification.addEventListener('click', (e) => {
                if (!e.target.classList.contains('close-notification')) {
                    clearTimeout(autoRemove);
                    notification.classList.remove('show');
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.parentNode.removeChild(notification);
                        }
                    }, 300);
                }
            });
        }
        
        function checkLoginState() {
            const studentData = localStorage.getItem('studentData');
            if (studentData) {
                try {
                    const student = JSON.parse(studentData);
                    studentSystem.currentStudent = student;
                    studentSystem.studentId = student.id;
                    showStudentDashboard();
                } catch (error) {
                    console.error('خطأ في تحميل بيانات الطالب:', error);
                    localStorage.removeItem('studentData');
                }
            }
        }
        
        function showStudentDashboard() {
            document.getElementById('loginContainer').classList.remove('active');
            document.getElementById('studentDashboard').classList.add('active');
            updateUserInfo();
            loadUserQuestions();
            startRealTimeListeners();
        }
        
        function updateUserInfo() {
            if (!studentSystem.currentStudent) return;
            
            document.getElementById('userName').textContent = `مرحباً، ${studentSystem.currentStudent.name}`;
            const userAvatar = document.getElementById('userAvatar');
            userAvatar.textContent = studentSystem.currentStudent.name.charAt(0).toUpperCase();
        }
        
        function loadUserQuestions(filter = 'all') {
            studentSystem.getStudentQuestions().then(questions => {
                renderQuestionsList(questions, filter);
            }).catch(error => {
                console.error('خطأ في تحميل الأسئلة:', error);
            });
        }
        
        function renderQuestionsList(questions, filter = 'all') {
            const questionList = document.getElementById('questionList');
            
            if (filter !== 'all') {
                questions = questions.filter(q => q.status === filter);
            }
            
            if (questions.length === 0) {
                questionList.innerHTML = `
                    <div style="text-align: center; padding: 40px; color: var(--gray);">
                        <i class="fas fa-inbox" style="font-size: 48px; margin-bottom: 15px; opacity: 0.5;"></i>
                        <p>لا توجد أسئلة ${filter !== 'all' ? 'في هذه القائمة' : 'بعد'}</p>
                    </div>
                `;
                return;
            }
            
            questionList.innerHTML = '';
            
            questions.forEach(question => {
                const questionItem = document.createElement('div');
                questionItem.className = `question-item ${question.status}`;
                questionItem.dataset.id = question.id;
                
                const date = question.createdAt ? new Date(question.createdAt.toDate ? question.createdAt.toDate() : question.createdAt) : new Date();
                const dateString = date.toLocaleDateString('ar-SA');
                const timeString = date.toLocaleTimeString('ar-SA', { hour: '2-digit', minute: '2-digit' });
                
                const statusText = question.status === 'pending' ? 'بانتظار الرد' : 'تم الرد';
                const statusClass = question.status === 'pending' ? 'status-pending' : 'status-answered';
                
                questionItem.innerHTML = `
                    <div class="question-header">
                        <div class="question-title">${question.title || 'بدون عنوان'}</div>
                        <div class="question-status ${statusClass}">${statusText}</div>
                    </div>
                    <div class="question-date">
                        <i class="fas fa-calendar"></i> ${dateString} - ${timeString}
                        ${question.phone ? `<span style="margin-right: 15px;">|</span><i class="fab fa-whatsapp"></i> ${question.phone}` : ''}
                    </div>
                    <div class="question-content">${question.question.substring(0, 200)}${question.question.length > 200 ? '...' : ''}</div>
                    ${question.answer ? `
                        <div class="answer-content">
                            <div class="answer-label">الإجابة:</div>
                            <div class="answer-text">${question.answer.substring(0, 150)}${question.answer.length > 150 ? '...' : ''}</div>
                        </div>
                    ` : ''}
                `;
                
                questionItem.addEventListener('click', () => {
                    openQuestionModal(question.id);
                });
                
                questionList.appendChild(questionItem);
            });
        }
        
        async function openQuestionModal(questionId) {
            try {
                const question = await studentSystem.getQuestionById(questionId);
                
                const date = question.createdAt ? new Date(question.createdAt.toDate ? question.createdAt.toDate() : question.createdAt) : new Date();
                const dateString = date.toLocaleDateString('ar-SA', { 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric',
                    weekday: 'long'
                });
                const timeString = date.toLocaleTimeString('ar-SA', { hour: '2-digit', minute: '2-digit' });
                
                document.getElementById('modalDate').textContent = `${dateString} - ${timeString}`;
                document.getElementById('modalName').textContent = question.studentName || 'غير معروف';
                document.getElementById('modalWhatsapp').textContent = question.phone || 'لم يتم إضافة رقم';
                document.getElementById('modalStatus').textContent = question.status === 'pending' ? 'بانتظار الرد' : 'تم الرد';
                document.getElementById('modalStatus').className = `question-status ${question.status === 'pending' ? 'status-pending' : 'status-answered'}`;
                document.getElementById('modalTitle').textContent = question.title || 'بدون عنوان';
                document.getElementById('modalQuestion').textContent = question.question;
                
                const answerSection = document.getElementById('answerSection');
                if (question.answer) {
                    answerSection.style.display = 'block';
                    document.getElementById('modalAnswer').textContent = question.answer;
                    
                    const answerDate = question.answeredAt ? new Date(question.answeredAt.toDate ? question.answeredAt.toDate() : question.answeredAt) : date;
                    const answerDateString = answerDate.toLocaleDateString('ar-SA');
                    const answerTimeString = answerDate.toLocaleTimeString('ar-SA', { hour: '2-digit', minute: '2-digit' });
                    document.getElementById('modalAnswerDate').textContent = `${answerDateString} - ${answerTimeString}`;
                } else {
                    answerSection.style.display = 'none';
                }
                
                document.getElementById('questionModal').classList.add('show');
            } catch (error) {
                showNotification('خطأ', error.message, 'error');
            }
        }
        
        function startRealTimeListeners() {
            studentSystem.setupQuestionsListener(questions => {
                const activeFilter = document.querySelector('.questions-tab.active')?.dataset.filter || 'all';
                renderQuestionsList(questions, activeFilter);
            });
        }

        // ==================== تهيئة الصفحة ====================
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('currentYear').textContent = new Date().getFullYear();
            
            // التحقق من حالة تسجيل الدخول
            checkLoginState();
            
            // إعداد حقل عنوان السؤال
            document.getElementById('questionTitle').addEventListener('input', function() {
                const length = this.value.length;
                document.getElementById('titleCharCount').textContent = `${length}/100`;
                if (length > 100) {
                    document.getElementById('titleCharCount').classList.add('warning');
                    this.classList.add('error');
                } else {
                    document.getElementById('titleCharCount').classList.remove('warning');
                    this.classList.remove('error');
                }
            });
            
            // إعداد حقل نص السؤال
            document.getElementById('questionContent').addEventListener('input', function() {
                const length = this.value.length;
                document.getElementById('contentCharCount').textContent = `${length}/1500`;
                if (length > 1500) {
                    document.getElementById('contentCharCount').classList.add('warning');
                    this.classList.add('error');
                } else {
                    document.getElementById('contentCharCount').classList.remove('warning');
                    this.classList.remove('error');
                }
            });
            
            // تسجيل الدخول
            document.getElementById('loginForm').addEventListener('submit', async function(e) {
                e.preventDefault();
                
                const name = document.getElementById('studentName').value.trim();
                
                document.getElementById('nameError').style.display = 'none';
                
                if (!name) {
                    document.getElementById('nameError').textContent = 'الرجاء إدخال اسم الطالب';
                    document.getElementById('nameError').style.display = 'block';
                    showNotification('خطأ', 'الرجاء إدخال اسم الطالب', 'error');
                    return;
                }
                
                const submitBtn = document.getElementById('loginSubmitBtn');
                const originalText = submitBtn.innerHTML;
                
                submitBtn.disabled = true;
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> جاري الدخول...';
                
                const result = await studentSystem.loginStudent(name);
                
                if (result.success) {
                    showNotification('نجاح', 'تم تسجيل الدخول بنجاح', 'success');
                    showStudentDashboard();
                } else {
                    showNotification('خطأ', result.message, 'error');
                }
                
                submitBtn.disabled = false;
                submitBtn.innerHTML = originalText;
            });
            
            // إرسال سؤال
            document.getElementById('questionForm').addEventListener('submit', async function(e) {
                e.preventDefault();
                
                if (!studentSystem.currentStudent) {
                    showNotification('خطأ', 'الرجاء تسجيل الدخول أولاً', 'error');
                    return;
                }
                
                const title = document.getElementById('questionTitle').value.trim();
                const whatsappNumber = document.getElementById('questionWhatsapp').value.trim();
                const question = document.getElementById('questionContent').value.trim();
                
                if (!question) {
                    document.getElementById('contentError').textContent = 'الرجاء كتابة نص السؤال';
                    document.getElementById('contentError').style.display = 'block';
                    document.getElementById('questionContent').classList.add('error');
                    showNotification('خطأ', 'الرجاء كتابة نص السؤال', 'error');
                    return;
                }
                
                if (whatsappNumber && !studentSystem.validatePhone(whatsappNumber)) {
                    document.getElementById('whatsappError').textContent = 'رقم الواتساب يجب أن يكون 8 أرقام فقط';
                    document.getElementById('whatsappError').style.display = 'block';
                    document.getElementById('questionWhatsapp').classList.add('error');
                    showNotification('خطأ', 'رقم الواتساب يجب أن يكون 8 أرقام فقط', 'error');
                    return;
                }
                
                const submitBtn = document.getElementById('submitBtn');
                const originalText = submitBtn.innerHTML;
                
                submitBtn.disabled = true;
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> جاري الإرسال...';
                
                const result = await studentSystem.submitQuestion(title, question, whatsappNumber);
                
                if (result.success) {
                    document.getElementById('successModal').classList.add('show');
                    
                    document.getElementById('questionForm').reset();
                    document.getElementById('titleCharCount').textContent = '0/100';
                    document.getElementById('contentCharCount').textContent = '0/1500';
                    document.getElementById('contentError').style.display = 'none';
                    document.getElementById('whatsappError').style.display = 'none';
                    document.getElementById('questionContent').classList.remove('error');
                    document.getElementById('questionWhatsapp').classList.remove('error');
                    
                    const activeFilter = document.querySelector('.questions-tab.active').dataset.filter;
                    loadUserQuestions(activeFilter);
                } else {
                    showNotification('خطأ', result.message, 'error');
                }
                
                submitBtn.disabled = false;
                submitBtn.innerHTML = originalText;
            });
            
            // تسجيل الخروج
            document.getElementById('logoutBtn').addEventListener('click', function() {
                if (confirm('هل أنت متأكد من تسجيل الخروج؟')) {
                    localStorage.removeItem('studentData');
                    studentSystem.currentStudent = null;
                    studentSystem.studentId = null;
                    
                    document.getElementById('studentDashboard').classList.remove('active');
                    document.getElementById('loginContainer').classList.add('active');
                    document.getElementById('studentName').value = '';
                    showNotification('تم', 'تم تسجيل خروجك بنجاح', 'info');
                }
            });
            
            // أزرار الفلترة
            document.querySelectorAll('.questions-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    document.querySelectorAll('.questions-tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    loadUserQuestions(this.dataset.filter);
                });
            });
            
            // إغلاق نافذة النجاح
            document.getElementById('closeSuccessModal').addEventListener('click', function() {
                document.getElementById('successModal').classList.remove('show');
            });
            
            // إغلاق نافذة السؤال
            document.getElementById('closeModal').addEventListener('click', function() {
                document.getElementById('questionModal').classList.remove('show');
            });
            
            document.getElementById('questionModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    this.classList.remove('show');
                }
            });
            
            // السماح بالدخول بالضغط على Enter
            document.getElementById('studentName')?.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    document.getElementById('loginSubmitBtn').click();
                }
            });
        });
    </script>
</body>
</html>
